<section id="homePage" class="kairo-page" aria-label="Página principal">
  <header class="kairo-topbar" role="banner">
    <button id="logoutBtn" class="icon-btn" aria-label="Cerrar sesión" title="Cerrar sesión">
      <span class="icon icon--logout" aria-hidden="true"></span>
    </button>

    <h1 class="kairo-title">KAIRO</h1>

    <!-- Lupa a la derecha (input plegable) -->
    <form id="searchForm" role="search" aria-label="Buscar notas" class="is-compact">
      <input id="searchInput" name="q" type="search" placeholder="BUSCAR" autocomplete="off" />
      <button id="searchBtn" type="button" aria-label="Buscar" aria-expanded="false">
        <span class="icon icon--search" aria-hidden="true"></span>
      </button>
    </form>

    <button id="profileBtn" class="icon-btn" aria-haspopup="menu" aria-expanded="false"
            aria-controls="profileMenu" aria-label="Opciones de cuenta" title="Cuenta">
      <span class="icon icon--user" aria-hidden="true"></span>
    </button>
    <nav id="profileMenu" role="menu" hidden>
      <a role="menuitem" href="#/update">Actualizar datos</a>
    </nav>
  </header>

  <main class="kairo-main">
    <div class="kairo-auth kairo-auth--board">
      <div class="kairo-auth-card kairo-card-board">

        <!-- ===== Barra de acciones (FUERA de las cards de columnas) ===== -->
        <div class="k-board-toolbar" aria-label="Acciones">
          <div class="k-board-actions-left">
            <button id="calendarBtn" class="icon-btn" aria-label="Abrir calendario">
              <span class="icon icon--calendar" aria-hidden="true"></span>
            </button>
          </div>
          <div class="k-board-actions-right">
            <button id="createBtn" class="kairo-fab" aria-label="Crear nota">
              <span class="icon icon--noteadd" aria-hidden="true"></span>
            </button>
          </div>
        </div>

        <!-- ===== Tablero con TRES columnas (Kanban) ===== -->
        <div class="k-board-grid" role="region" aria-label="Tus notas">
          <!-- Columna: Pendientes -->
          <section class="k-col-card" aria-labelledby="colTodoTitle">
            <header class="k-col-header">
              <h2 id="colTodoTitle" class="k-col-title">Pendientes</h2>
              <span class="k-col-count" id="todoCount">0</span>
            </header>
            <ul id="todoList" class="kairo-list"></ul>
            <p class="kairo-col-empty" id="emptyTodo">Sin pendientes</p>
          </section>

          <!-- Columna: En progreso -->
          <section class="k-col-card" aria-labelledby="colDoingTitle">
            <header class="k-col-header">
              <h2 id="colDoingTitle" class="k-col-title">En progreso</h2>
              <span class="k-col-count" id="doingCount">0</span>
            </header>
            <ul id="doingList" class="kairo-list"></ul>
            <p class="kairo-col-empty" id="emptyDoing">Nada en progreso</p>
          </section>

          <!-- Columna: Completadas -->
          <section class="k-col-card" aria-labelledby="colDoneTitle">
            <header class="k-col-header">
              <h2 id="colDoneTitle" class="k-col-title">Completadas</h2>
              <span class="k-col-count" id="doneCount">0</span>
            </header>
            <ul id="doneList" class="kairo-list"></ul>
            <p class="kairo-col-empty" id="emptyDone">Aún no completas tareas</p>
          </section>
        </div>

        <!-- ===== Vista LISTA (para móviles; se muestra por defecto ≤768px) ===== -->
        <ul id="listView" class="kairo-list k-list-view" hidden></ul>

        <!-- Template para cada nota como “chip” -->
        <template id="noteItemTemplate">
          <li class="kairo-note is-todo" data-id="">
            <button class="kairo-chip" data-action="edit" aria-label="Editar nota">
              <span class="kairo-chip__text"></span>
              <small class="kairo-chip__meta" aria-label="Fecha y hora"></small>
            </button>
            <button class="kairo-chip__action" data-action="delete" aria-label="Eliminar nota">
              <span class="icon icon--trash" aria-hidden="true"></span>
            </button>
          </li>
        </template>

        <!-- (Compat) lista antigua oculta para no romper nada que la consulte -->
        <ul id="notesList" class="kairo-list" hidden></ul>
        <p id="emptyState" class="kairo-empty" hidden>Crea tu primera nota</p>
      </div>
    </div>
  </main>
</section>
